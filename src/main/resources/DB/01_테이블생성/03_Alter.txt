
ALTER TABLE `PetShoppingMall`.`user` 
ADD UNIQUE INDEX `id_UNIQUE` (`id` ASC) VISIBLE;
;


ALTER TABLE `PetShoppingMall`.`seller` 
ADD UNIQUE INDEX `id_UNIQUE` (`id` ASC) VISIBLE;
;


ALTER TABLE `PetShoppingMall`.`delivery` 
CHANGE COLUMN `start_date` `start_date` DATE NULL ,
CHANGE COLUMN `arrival_date` `arrival_date` DATE NULL ,
CHANGE COLUMN `receiver_name` `receiver_name` VARCHAR(24) NOT NULL ,
CHANGE COLUMN `receiver_phone` `receiver_phone` VARCHAR(13) NOT NULL ,
CHANGE COLUMN `sender_name` `sender_name` VARCHAR(24) NOT NULL ,
CHANGE COLUMN `sender_phone` `sender_phone` VARCHAR(13) NOT NULL ,
CHANGE COLUMN `sender_zipcode` `sender_zipcode` VARCHAR(8) NOT NULL ,
CHANGE COLUMN `sender_addr1` `sender_addr1` VARCHAR(96) NOT NULL ,
CHANGE COLUMN `sender_addr2` `sender_addr2` VARCHAR(96) NOT NULL ;


ALTER TABLE `PetShoppingMall`.`order_detail` 
DROP FOREIGN KEY `FK_delivery_TO_order_detail_1`;
ALTER TABLE `PetShoppingMall`.`order_detail` 
CHANGE COLUMN `user_no` `user_no` INT NOT NULL ,
CHANGE COLUMN `product_no` `product_no` INT NOT NULL ,
CHANGE COLUMN `charge` `charge` INT NOT NULL ,
CHANGE COLUMN `discount_rate` `discount` INT NOT NULL ,
CHANGE COLUMN `quantity` `quantity` INT NOT NULL ,
CHANGE COLUMN `delivery_no` `delivery_no` INT NULL ,
CHANGE COLUMN `refound_status` `refound_status` TINYINT(1) NOT NULL DEFAULT '0' ;
ALTER TABLE `PetShoppingMall`.`order_detail` 
ADD CONSTRAINT `FK_delivery_TO_order_detail_1`
  FOREIGN KEY (`delivery_no`)
  REFERENCES `PetShoppingMall`.`delivery` (`no`);

  
  ALTER TABLE `PetShoppingMall`.`order_detail` 
CHANGE COLUMN `name` `product_name` VARCHAR(96) NOT NULL ,
CHANGE COLUMN `price` `product_price` INT NOT NULL ;
  
  ALTER TABLE `PetShoppingMall`.`review` 
DROP FOREIGN KEY `FK_product_TO_review_1`;
ALTER TABLE `PetShoppingMall`.`review` 
CHANGE COLUMN `no2` `product_no` INT NOT NULL ;
ALTER TABLE `PetShoppingMall`.`review` 
ADD CONSTRAINT `FK_product_TO_review_1`
  FOREIGN KEY (`product_no`)
  REFERENCES `PetShoppingMall`.`product` (`no`);
  
  ALTER TABLE `PetShoppingMall`.`product` 
ADD COLUMN `description` TEXT NULL AFTER `image_url`;
ALTER TABLE `PetShoppingMall`.`user` 
CHANGE COLUMN `password` `password` VARCHAR(255) NOT NULL ;

  ALTER TABLE `PetShoppingMall`.`product` 
CHANGE COLUMN `company` `company` VARCHAR(48) NULL ,
CHANGE COLUMN `brand` `brand` VARCHAR(48) NULL ;
  
  ALTER TABLE `PetShoppingMall`.`seller` 
CHANGE COLUMN `password` `password` VARCHAR(255) NOT NULL ;

ALTER TABLE `PetShoppingMall`.`option` 
CHANGE COLUMN `option` `option` VARCHAR(48) NULL DEFAULT NULL COMMENT '옵션: 색깔, 사이즈 등\\\\n그 값은 내용에' ;

ALTER TABLE `PetShoppingMall`.`option` 
CHANGE COLUMN `option` `option` VARCHAR(24) NOT NULL COMMENT '옵션: 색깔, 사이즈 등\\\\n그 값은 내용에' ,
CHANGE COLUMN `content` `content` VARCHAR(48) NOT NULL COMMENT '옵션이 size면\\n내용은 255, 260, 270\\n옵션이 color면\\n내용은 green, black, white' ,
CHANGE COLUMN `price` `price` INT NULL DEFAULT 0 ;

  ALTER TABLE `PetShoppingMall`.`option` 
RENAME TO  `PetShoppingMall`.`product_option` ;
 
 ALTER TABLE `PetShoppingMall`.`product_option` 
CHANGE COLUMN `option` `title` VARCHAR(24) NOT NULL COMMENT '옵션: 색깔, 사이즈 등\\\\\\\\n그 값은 내용에' ;

ALTER TABLE `PetShoppingMall`.`payment` 
DROP COLUMN `finance_company_no`;
ALTER TABLE `PetShoppingMall`.`settlement_account` 
DROP FOREIGN KEY `FK_finance_company_TO_settlement_account_1`;
ALTER TABLE `PetShoppingMall`.`settlement_account` 
DROP COLUMN `bank_no`,
DROP INDEX `FK_finance_company_TO_settlement_account_1` ;
;
drop table finance_company;
drop table settlement_account;
drop table payment;
CREATE TABLE `payment` (
	`no`	int	NOT NULL,
	`user_no`	int	NULL	DEFAULT null,
	`seller_no`	int	NULL	DEFAULT null,
	`name`	varchar(20)	NULL,
	`type`	int	NOT NULL	COMMENT '계좌 (0)
신용카드 (1)',
	`company`	varchar(96)	NOT NULL	COMMENT '계좌면 계좌번호
카드면 카드번호

예시를 들꺼면 신한은행의 계좌번호 포멧으로 들자!',
	`account`	varchar(96)	NOT NULL
);
 ALTER TABLE `PetShoppingMall`.`payment` 
DROP COLUMN `seller_no`;
 ALTER TABLE `PetShoppingMall`.`seller` 
ADD COLUMN `bank` INT NOT NULL AFTER `addr2`,
ADD COLUMN `account` VARCHAR(48) NOT NULL AFTER `bank`,
CHANGE COLUMN `zipcode` `zipcode` VARCHAR(8) NULL ,
CHANGE COLUMN `addr1` `addr1` VARCHAR(96) NULL ,
CHANGE COLUMN `addr2` `addr2` VARCHAR(96) NULL ;

ALTER TABLE `PetShoppingMall`.`order_main` 
CHANGE COLUMN `payment_type` `payment_type` INT NOT NULL AFTER `order_date`,
CHANGE COLUMN `finance_company_no` `payment_company` INT NOT NULL ,
CHANGE COLUMN `payment_content` `payment_account` VARCHAR(96) NOT NULL ;

ALTER TABLE `PetShoppingMall`.`payment` 
CHANGE COLUMN `company` `company` INT NOT NULL COMMENT '계좌면 계좌번호\\n카드면 카드번호\\n\\n예시를 들꺼면 신한은행의 계좌번호 포멧으로 들자!' ;
ALTER TABLE `PetShoppingMall`.`seller` 
CHANGE COLUMN `account` `account` VARCHAR(96) NOT NULL ;

 ALTER TABLE `PetShoppingMall`.`payment` 
ADD COLUMN `cvc` CHAR(3) NULL DEFAULT NULL AFTER `valid_date`;
 